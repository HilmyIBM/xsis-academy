<!-- for sending the data to the Ajax -->
<input id="txtTitle" type="hidden" th:value="${title}"></input>
<input id="categoryId" type="hidden" th:value="${id}"></input>
<div class="card">
    <div class="card-body row">
        <div class="text-center">
            <div class="col h1">
                <i class="fas fa-exclamation"></i>
            </div>
            <div class="col-11">
                <b>
                    Are you sure want to delete Category with ID <span th:text="${id}"></span>
                </b>
            </div>
        </div>
    </div>
    <div class="card-footer d-flex justify-content-end">
        <button class="btn btn-danger me-2" id="">Confirm</button>
        <!-- Spasi -->
        <span>&nbsp;</span>
        <button class="btn btn-dark" id="abortCancelAdd">Cancel</button>
    </div>
</div>

<script>
    $(document).ready(function(){
        $('#staticModalLabel').text($("#txtTitle").val());

        $('.card-footer > .btn-danger').click(function(e){
            let catId = $('#categoryId').val();

            $.ajax({
                url: `category/delete/${catId}/3`,
                type:'post',
                success: function(response){
                    alert(`Category successfully Deleted!`);
                    location.reload();
                },
                error: function(errResponse){
                    alert(`Failed to Deleted Category!`);
                    console.error(errResponse)
                }
            })
        })

        $('.card-footer > .btn-dark').click(function(e){
            $("#staticModal").modal("hide");
        })

    })
</script>
