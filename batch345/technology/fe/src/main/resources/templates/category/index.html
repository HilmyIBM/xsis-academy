<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{fragments/layout}">
<head>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=h1, initial-scale=1.0">
    <title>Category List</title>
    <!-- <link rel="stylesheet" href="https://cdn.datatables.net/2.2.1/css/dataTables.jqueryui.min.css">
    <script src="https://cdn.datatables.net/2.2.1/js/dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/2.2.1/js/dataTables.jqueryui.min.js"></script> -->
</head>
<body>
    <div layout:fragment="content" class="bg-light p-3">
        <H2>Category List</H2>
        <button 
        type="button" 
        class="btn" 
        style="background-color: purple; color: white;" 
        data-bs-toggle="modal" 
        data-bs-target="#staticModal"
        id="btnAdd">Add</button>
        <div class="p-3 bg-white">
            <div class="d-flex justify-content-between mb-3 w-100">
                <div class="d-flex align-items-center gap-3">
                    <p class="m-0">show</p>
                    <div class="">
                        <div class="dropdown">
                            <button class="btn btn-outline-secondary rounded-0 pe-5" type="button" id="dropdownShowMenu" data-bs-toggle="dropdown" aria-expanded="false">
                              10
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="dropdownShowMenu">
                              <li><a class="dropdown-item" href="#">20</a></li>
                              <li><a class="dropdown-item" href="#">40</a></li>
                              <li><a class="dropdown-item" href="#">All</a></li>
                            </ul>
                        </div>
                    </div>
                    <p class="m-0">Entries</p>
                </div>
                <div class="gap-3 d-flex align-items-center">
                    <p class="m-0">Search:</p>
                    <form class="d-flex">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success" type="submit">Search</button>
                      </form>
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <table class="table table-striped table-hover w-75">
                    <thead>
                        <tr>
                            <td scope="col" class="text-primary">id</th>
                            <td scope="col" class="text-primary">name category</th>
                            <td scope="col">description</th>
                            <td scope="col">is delete</th>
                            <td scope="col">action</th>
                        </tr>
                    </thead>
                    <tbody class="" style="border-top: white;">
                      <tr th:each="item:${category}">
                        <td scope="row" th:text="${item.id}">1</th>
                        <td th:text="${item.categoryName}">Appetizer</td>
                        <td th:text="${item.description}">Category of appetizer</td>
                        <td th:text="${item.deleted}">false</td>
                        <td class="">
                            <div class="">
                                <button th:data-id="${item.id}" type="button" title="edit" class="btn btn-success text-dark">Edit</button>
                                <button th:data-id="${item.id}" type="button" title="delete" class="btn btn-danger text-light">Delete</button>
                                <button th:data-id="${item.id}" type="button" id="btnDetail" title="detail" class="btn btn-warning text-light">Detail</button>
                            </div>
                        </td>
                      </tr>
                    </tbody>
                    
                </table>
            </div>
            <div class="d-flex justify-content-between">
                <div>
                    <p class="m-0">Page 1 of 2</p>
                </div>
                <div>
                    <button type="button" class="btn btn-primary disabled">Previous</button>
                    <button type="button" class="btn btn-primary">Next</button>
                </div>
            </div>
        </div>
        <script>
            $("#btnAdd").click(function(e){
                $("#staticModalBody").load("/category/add");
            });
            $(".btn-success").click(function(e){
                let catID = $(this).data("id");
                $("#staticModalBody").load("/category/edit/" + catID);
                $("#staticModal").modal("show");
            });
            // $(".btn-danger").click(function(e){
            //     let catID = $(this).data("id");
            //     $("#staticModalBody").load("/catergory/" + catID);
            //     $("#staticModal").modal("show");
            // });
            $("#btnDetail").click(function(e){
                let catID = $(this).data("id");

                $("#staticModalBody").load("/category/" + catID);
                $("#staticModal").modal("show");
            });
        </script>
    </div>
</body>
</html>