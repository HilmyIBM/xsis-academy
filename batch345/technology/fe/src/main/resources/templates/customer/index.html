<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragments/layout}">
	<head>
		<title>Customer::Index</title>
	</head>
	<body>
		<div layout:fragment="content">
			<div class="d-flex justify-content-between my-1">
				<div class="h2">Customer Index</div>
				<div>
					<a id="btnAdd" class="btn btn-sm btn-success rounded mx-1"><i class="fas fa-plus text-white"></i></a>
				</div>
			</div>
			<div>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th class="col-1">ID</th>
							<th class="col-2">Name</th>
							<th class="col-3">Address</th>
							<th class="col-2">E-Mail</th>
							<th class="col-2">Phone</th>
							<th class="col-1">Role</th>
							<th class="col-1 text-center">Action</th>
						</tr>
					</thead>
					<tbody>
						<tr th:if="${customers != null}" th:each="customer : ${customers}">
							<td th:text="${customer.id}">1</td>
							<td th:text="${customer.name}">Kal El</td>
							<td th:text="${customer.address}">Krypton</td>
							<td th:text="${customer.email}">superman@krypton.planet</td>
							<td th:text="${customer.phone}">xxx-xxxx-xxxx</td>
							<td th:switch="${customer.roleId}">
								<span th:case="1">Admin</span>
								<span th:case="2">User</span>
								<span th:case="*">Alien</span>
							</td>
							<td class="d-flex justify-content-center">
								<div class="btn-group">
									<button th:data-id="${customer.id}" class="btn btn-sm btn-primary btnDetailCustomer" title="Details..."><i class="fas fa-list-alt"></i></button>
									<button th:data-id="${customer.id}" class="btn btn-sm btn-success btnEditCustomer" title="Edit..."><i class="fas fa-edit"></i></button>
									<button th:data-id="${customer.id}" class="btn btn-sm btn-danger btnDeleteCustomer" title="Delete..."><i class="fas fa-trash"></i></button>
								</div>
							</td>
						</tr>						
						<tr th:unless="${customers != null}">
							<td colspan="7">
								<div class="text-center text-danger fst-italic">-- Customer Data doesn't exist ! --</div>
							</td>
						</tr>						
					</tbody>
				</table>

				<script>
					$("#btnAdd").click(function(e){
						$("#staticModalBodyLg").load("/customer/add");
						$("#staticModalLg").modal("show");
					});

					$(".btnDetailCustomer").click(function(e){
						$("#staticModalBodyLg").load("/customer/detail/" + $(this).data("id"));
						$("#staticModalLg").modal("show");
					});
					
					$(".btnEditCustomer").click(function(e){
						$("#staticModalBodyLg").load("/customer/edit/" + $(this).data("id"));
						$("#staticModalLg").modal("show");
					});
					
					$(".btnDeleteCustomer").click(function(e){
						$("#staticModalBody").load("/customer/delete/" + $(this).data("id"));
						$("#staticModal").modal("show");
					});

				</script>
			</div>
		</div>
	</body>
</html>